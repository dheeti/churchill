<div ng-controller = "issue-controller as issue">
    <div class="row">
      <div class=col-sm-12>
          <h2>{{ issue.title }}</h2>
          <p></p>
          <br>
      </div>
    </div>

    <!-- Added an array to the issue-controller for dynamically pulling from database-->
    <div class="issue row" ng-repeat="row in issue.issuerows">
        <div class="issue">
            <button ng-click="row.voting = !row.voting" type="button" class="btn btn-primary btn-block">{{row.name}}</button>
        </div>
        <h5>{{row.description}}</h5>
        <div ng-controller="tab-controller as tab"></div>
            <uib-tabset justified="true" ng-show="row.voting">
                <uib-tab heading="Values">
                     <sort></sort>
                </uib-tab>
                <uib-tab heading="Objectives">
                     <sort></sort>
                </uib-tab>
                <uib-tab heading="Policies">
                     <sort></sort>
                </uib-tab>
            </uib-tabset>
        </div>
    </div>
    
    <div class="issue row add">
        <a href="" ng-click="issue.showform= !issue.showform"> Don't see an issue for you? </a>
        <p></p>
        <div class="formwrapper" ng-init = "issue.showform = false" ng-show="issue.showform">
            <div class="form-group">
                <label style="font-size: 12px">Title</label>
                <input type="text" ng-model="issue.new_title" class="form-control">
            </div>
            <div class="form-group">
                <label style="font-size: 12px">Description</label>
                <input type="text" ng-model="issue.new_description" class="form-control">
            </div>
            <button ng-click="issue.submitIssue()" type='button' class='btn btn-success'>Add New Issue</button>        </div>
    </div>
</div>
<div ng-controller="main-controller as login">

  <img ng-src="{{login.image}}">
  <p></p>

  <div class="row">
    <div class=col-sm-12>
      <h2>{{ login.title }}</h2>
      <p></p>
    </div>
  </div>

  <div class="row">
    <div class=col-sm-4>
      <div ng-show="login.reject">
        <p style="color: #ff0000">{{login.unsuccessful}}</p>
      </div>
      <div class="form-group">
        <label>Username</label>
        <input type="text" ng-model="login.username" class="form-control">
      </div>
      <div class="form-group">
        <label>Password</label>
        <input type="password" ng-model="login.password" class="form-control">
      </div>
      <div class="btn-group">
        <button type="button" ng-click="login.getAccess()" class="btn btn-primary">
          Login
        </button>
      </div>
      <button ng-click="login.createAccount()" class="btn btn-primary">Create Account</button>

      <modal title="Create Account" visible="login.showCreateForm">
        <form role="form" name="userForm">
          <div class="form-group">
            <label for="username">Username</label>
            <input type="text" ng-model="login.new_user" user-unique="" ng-model-options="{ updateOn: 'blur' }"
                   class="form-control" id="username" name="username" placeholder="Enter username" required  />
            <div class="hide-while-in-focus"
                 ng-show="userForm.username.$error.unique"
                 style="color: #ff0000; font-weight: bold">Username Taken</div>
          </div>
          <div class="form-group">
            <label for="password">Password</label>
            <input type="password" ng-model="login.new_pass" class="form-control" id="password" placeholder="Password" required />
          </div>
          <div class="form-group">
            <label for="name">Name</label>
            <input type="text" ng-model="login.name" class="form-control" id="name" placeholder="Enter name" required />
          </div>
          <div class="form-group">
            <label for="city">City</label>
            <input type="text" ng-model="login.city" class="form-control" id="city" placeholder="Enter city" required />
          </div>
          <button type="submit" ng-click="login.addUser()" class="btn btn-default">Submit</button>
        </form>
      </modal>
      <p></p>
    </div>
    <div class=col-sm-8>
        <p> We're creating new tools to help communities make better decisions.<br>
            You can learn more about us at <a href="http://democracylab.org/">democracylab.org </a> </p>
        <p> To participate, we'll ask you to share the values, objectives,<br>
            and policies that most closely reflect your thinking on the current issue. </p>
        <p> But first you need to login to DemocracyLab.</p>
    </div>
  </div>
</div>